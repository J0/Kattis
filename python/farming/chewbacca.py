num_elems, branches, queries = input().split()
print(num_elems, branches, queries)
for i in range(int(queries)):
  x, y = input().split()
  print("%s %s" %(x, y ))



def find_height(branches, node):

  pass

def share_same_parent(x, y):
  pass

def n_th_child(node, d, n):
  return d * (node - 1) + n + 1
